/*
 * $Id$
 *
 * SARL is an general-purpose agent programming language.
 * More details on http://www.sarl.io
 *
 * Copyright (C) 2014-2019 the original authors or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package io.sarl.sre.tests.units.services.namespace

import io.sarl.sre.naming.SarlName
import io.sarl.sre.services.namespace.AbstractNamespaceService
import io.sarl.tests.api.AbstractSarlTest
import io.sarl.tests.api.Nullable
import java.util.UUID
import org.junit.Before
import org.junit.Test
import io.sarl.sre.naming.ContextName
import io.sarl.sre.services.context.Context
import io.sarl.sre.naming.SpaceName
import io.sarl.lang.core.Space
import io.sarl.sre.naming.AgentName
import io.sarl.lang.core.Agent
import io.sarl.sre.naming.SkillName
import io.sarl.lang.core.Skill
import io.sarl.sre.naming.BehaviorName
import io.sarl.lang.core.Behavior
import io.sarl.sre.naming.ServiceName
import com.google.common.util.concurrent.Service

/**
 * @author $Author: sgalland$
 * @version $FullVersion$
 * @mavengroupid $GroupId$
 * @mavenartifactid $ArtifactId$
 */
@SuppressWarnings("missing_abstract_modifier")
class AbstractNamespaceServiceTest extends AbstractSarlTest {

	@Nullable
	var str : String

	@Nullable
	var name : SarlName

	@Nullable
	var service : AbstractNamespaceService

	@Before
	def setUp : void {
		this.name = typeof(SarlName).mock
		this.str = UUID::randomUUID.toString
		this.service = new AbstractNamespaceService {
			def findObject(name : SarlName) : Object {
				AbstractNamespaceServiceTest.this.str
			}
			def findName(object : Object) : SarlName {
				throw new UnsupportedOperationException("TODO: auto-generated method stub")
			}
			protected def findContext(name : ContextName) : Context {
				throw new UnsupportedOperationException("TODO: auto-generated method stub")
			}
			protected def findSpace(name : SpaceName) : Space {
				throw new UnsupportedOperationException("TODO: auto-generated method stub")
			}
			protected def findAgent(name : AgentName) : Agent {
				throw new UnsupportedOperationException("TODO: auto-generated method stub")
			}
			protected def findSkill(name : SkillName) : Skill {
				throw new UnsupportedOperationException("TODO: auto-generated method stub")
			}	
			protected def findBehavior(name : BehaviorName) : Behavior {
				throw new UnsupportedOperationException("TODO: auto-generated method stub")
			}
			protected def findService(name : ServiceName) : Service {
				throw new UnsupportedOperationException("TODO: auto-generated method stub")
			}}.spy
	}

	@Test
	def findObject_SarlNameClass_obj {
		this.service.findObject(this.name, typeof(Object)).assertSame(this.str)
	}

	@Test
	def findObject_SarlNameClass_int {
		this.service.findObject(this.name, typeof(Integer)).assertNull
	}

	@Test
	def findObject_SarlNameClass_string {
		this.service.findObject(this.name, typeof(String)).assertSame(this.str)
	}

}
